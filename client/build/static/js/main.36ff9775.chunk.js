(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(t,e,s){},27:function(t,e,s){},47:function(t,e,s){"use strict";s.r(e);var a=s(2),n=s.n(a),i=s(19),c=s.n(i),l=(s(26),s(5)),o=s(6),r=s(8),d=s(7),m=(s(27),s(4)),u=s(21),h=s(10),j=s(3),b=s.n(j),k="http://localhost:8001",O="We have some troubles. Perhaps server is down.",v=function(t){return b.a.get(k+t,{headers:{"Content-Type":"application/json"}}).then((function(t){return 200===t.status&&void 0!==t.data?t.data:null})).catch((function(t){return t&&console.log(t),alert(O),null}))},_=s(0),w=function(t){Object(r.a)(s,t);var e=Object(d.a)(s);function s(){var t;return Object(l.a)(this,s),(t=e.call(this)).state={item:null},t}return Object(o.a)(s,[{key:"componentWillReceiveProps",value:function(t){var e,s=this;this.setState({item:null}),t.id&&(e=t.id,v("/"+e)).then((function(t){s.setState({item:t})}))}},{key:"render",value:function(){return Object(_.jsx)(a.Fragment,{children:this.state.item?Object(_.jsxs)("div",{className:"show-body",children:[Object(_.jsx)("h2",{className:"show-task",children:this.state.item.task_title}),Object(_.jsxs)("p",{className:"author",children:["by ",this.state.item.user_name," at ",this.state.item.time]}),Object(_.jsx)("p",{className:"desc",children:this.state.item.task_desc})]}):null})}}]),s}(a.Component),p=function(t){Object(r.a)(s,t);var e=Object(d.a)(s);function s(){var t;return Object(l.a)(this,s),(t=e.call(this)).showNewTaskModal=function(){t.setState({show_task_modal:!1,new_task_modal:!0,newItem:{user_name:"",task_title:"",task_desc:""}})},t.closeNewTaskModal=function(){t.setState({new_task_modal:!1})},t.showTaskModal=function(e){t.setState({selectedItem:e,new_task_modal:!1,show_task_modal:!0})},t.closeTaskModal=function(){t.setState({selectedItem:null,show_task_modal:!1})},t.getItems=function(){t.setState({itemList:[],itemListStatus:t.messages.loading_list}),b.a.get(k+"/",{headers:{"Content-Type":"application/json"}}).then((function(t){return 200===t.status&&void 0!==t.data&&t.data.length>0?t.data:null})).catch((function(t){return t&&console.log(t),alert("We have some troubles. Perhaps server is down."),null})).then((function(e){Array.isArray(e)&&e.length>0?t.setState({itemList:Object(h.a)(e),itemListStatus:""}):t.setState({itemList:[],itemListStatus:t.messages.no_items})}))},t.messages={loading_list:"Please wait, loading tasks...",no_items:"No tasks in list."},t.state={selectedItem:null,itemList:[],itemListStatus:t.messages.loading_list,newItem:{user_name:"",task_title:"",task_desc:""},new_task_modal:!1,show_task_modal:!1},t}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.getItems()}},{key:"onChange",value:function(t){this.setState(Object(u.a)({},t.target.name,t.target.value))}},{key:"submit",value:function(){var t=this;b.a.post("http://localhost:8001/",this.state.newItem,{headers:{"Content-Type":"application/json"}}).then((function(e){201===e.status&&t.setState({itemList:[e.data].concat(Object(h.a)(t.state.itemList)),itemListStatus:""})})).catch((function(e){e&&console.log(e),alert("Submit data failed. Perhaps server is down."),t.getItems()})),this.setState({newItem:{user_name:"",task_title:"",task_desc:""},new_task_modal:!1})}},{key:"render",value:function(){var t=this;return Object(_.jsx)(a.Fragment,{children:Object(_.jsxs)("div",{className:"container",children:[Object(_.jsxs)("div",{className:"listContainer",children:[this.state.itemList.map((function(e,s){return Object(_.jsx)("div",{className:"item",title:"click to enlarge",children:Object(_.jsx)("div",{children:Object(_.jsxs)("span",{className:"itemList",onClick:function(){return t.showTaskModal(e.task_id)},children:[Object(_.jsx)("h2",{className:"task-link",children:e.task_title}),Object(_.jsxs)("p",{className:"author",children:["by ",e.user_name," at ",e.time]})]})})},e.task_id)})),Object(_.jsx)("div",{className:"list-status",children:this.state.itemListStatus})]}),Object(_.jsx)("div",{className:"add-div",children:Object(_.jsx)("button",{className:"add-button",onClick:function(){return t.showNewTaskModal()},children:"ADD NEW"})}),Object(_.jsx)("div",{className:"modal-overlay",style:{display:this.state.new_task_modal?"block":"none"},onClick:function(){return t.closeNewTaskModal()},children:Object(_.jsxs)("div",{className:"modal newtask",onClick:function(t){return t.stopPropagation()},children:[Object(_.jsx)("div",{className:"modal-header",children:Object(_.jsx)("div",{className:"close",onClick:function(){t.closeNewTaskModal()},children:"\xd7"})}),Object(_.jsxs)("div",{className:"modal-body",children:[Object(_.jsxs)("div",{className:"modal-row",children:[Object(_.jsx)("div",{className:"modal-title",children:"Author:"}),Object(_.jsx)("div",{children:Object(_.jsx)("input",{type:"text",className:"form-control",id:"user_name",name:"user_name",placeholder:"enter author name",value:this.state.newItem.user_name,onChange:function(e){t.setState({newItem:Object(m.a)(Object(m.a)({},t.state.newItem),{},{user_name:e.target.value})})},required:!0})})]}),Object(_.jsxs)("div",{className:"modal-row",children:[Object(_.jsx)("div",{className:"modal-title",children:"Title:"}),Object(_.jsx)("div",{children:Object(_.jsx)("input",{type:"text",className:"form-control",id:"task_title",name:"task_title",placeholder:"enter title",value:this.state.newItem.task_title,onChange:function(e){t.setState({newItem:Object(m.a)(Object(m.a)({},t.state.newItem),{},{task_title:e.target.value})})},required:!0})})]}),Object(_.jsxs)("div",{className:"modal-row",children:[Object(_.jsx)("div",{className:"modal-title",children:"Description:"}),Object(_.jsx)("div",{children:Object(_.jsx)("textarea",{id:"task_desc",name:"task_desc",rows:"2",cols:"20",className:"form-control",placeholder:"enter desc",value:this.state.newItem.task_desc,onChange:function(e){t.setState({newItem:Object(m.a)(Object(m.a)({},t.state.newItem),{},{task_desc:e.target.value})})},required:!0})})]})]}),Object(_.jsx)("div",{className:"modal-footer",children:Object(_.jsx)("button",{type:"button","data-dismiss":"modal",onClick:function(){return t.submit()},disabled:!this.state.newItem.user_name||!this.state.newItem.task_title||!this.state.newItem.task_desc,children:" CREATE "})})]})}),Object(_.jsxs)("div",{className:"show-overlay",style:{display:this.state.show_task_modal?"block":"none"},onClick:function(){return t.closeTaskModal()},children:[Object(_.jsx)("div",{className:"showtask",onClick:function(t){return t.stopPropagation()},children:Object(_.jsx)(w,{id:this.state.selectedItem})}),Object(_.jsx)("div",{className:"show-footer",children:Object(_.jsx)("button",{type:"button",className:"show-close","data-dismiss":"modal",title:"close window",onClick:function(){return t.closeTaskModal()},children:"\xd7"})})]})]})})}}]),s}(a.Component),f=function(t){Object(r.a)(s,t);var e=Object(d.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(p,{})})}}]),s}(a.Component);c.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(f,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.36ff9775.chunk.js.map